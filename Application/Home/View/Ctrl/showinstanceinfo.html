<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>ffEngine实时服务器云平台</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Loading Bootstrap -->
    <link href="../inc/bootstrap/css/bootstrap.css" rel="stylesheet">
    
    <!-- Loading Flat UI -->
    <link href="../inc/css/flat-ui.css" rel="stylesheet">
	<link rel="stylesheet" href="../inc/css/jquery_ui/themes/base/jquery.ui.all.css">

    <link rel="shortcut icon" href="./Public/images/favicon.ico">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements. All other JS at the end of file. -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
    <![endif]-->
    
    <link type="text/css" href="../inc/jquery-ui-bootstrap/css/custom-theme/jquery-ui-1.10.0.custom.css" rel="stylesheet" />
	<link type="text/css" href="../inc/jquery-ui-bootstrap/assets/css/font-awesome.min.css" rel="stylesheet" />
	<!--[if IE 7]>
	<link rel="stylesheet" href="../inc/jquery-ui-bootstrap/assets/css/font-awesome-ie7.min.css">
	<![endif]-->
	<!--[if lt IE 9]>
	<link rel="stylesheet" type="text/css" href="../inc/jquery-ui-bootstrap/css/custom-theme/jquery.ui.1.10.0.ie.css"/>
	<![endif]-->
	<link href="../inc/jquery-ui-bootstrap/assets/css/docs.css" rel="stylesheet">
	<link href="../inc/jquery-ui-bootstrap/assets/js/google-code-prettify/prettify.css" rel="stylesheet">

	<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
	<!--[if lt IE 9]>
	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- Le fav and touch icons -->
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../inc/jquery-ui-bootstrap/assets/ico/apple-touch-icon-144-precomposed.png">
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../inc/jquery-ui-bootstrap/assets/ico/apple-touch-icon-114-precomposed.png">
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../inc/jquery-ui-bootstrap/assets/ico/apple-touch-icon-72-precomposed.png">
	<link rel="apple-touch-icon-precomposed" href="../inc/jquery-ui-bootstrap/assets/ico/apple-touch-icon-57-precomposed.png">
    
	<style>
	.tLeft {text-align:left;}
	</style>
  </head>
  <body>
    <div class="container">

		<div class="row">
			<div class="span6"><div class="row"><h1 class="demo-panel-title">ffEngine 实时服务器云平台</h1></div></div>
			<div class="span6"><div class="row" height="20px"></br></br></br></div>
				<div class="row"><h4>面向于端游、页游、手游服务器程序的云托管平台</h4></div>
			</div>
		</div>

		<div class="row ">
			<div >
			  <div class="navbar navbar-inverse">
				<div class="navbar-inner">
				  <div class="container">
					<button type="button" class="btn btn-navbar" data-toggle="collapse" data-target="#nav-collapse-01"></button>
					<div class="nav-collapse collapse" id="nav-collapse-01">
					  <ul class="nav">
						<li>
						  <a href="./index.php">
							首页
							<!-- <span class="navbar-unread">1</span>-->
						  </a>
						</li>
						<li>
						  <a href="./index.php?c=Ctrl&a=loginMenu">
							登陆
							<!-- <span class="navbar-unread">1</span>-->
						  </a>
						</li>
						<li>
						  <a href="./index.php?c=Ctrl&a=registerMenu">
							注册
							<!-- <span class="navbar-unread">1</span>-->
						  </a>
						</li>
						<!-- <li class="active">-->
						<li>
						  <a href="#fakelink">
							配置服务器
							<!-- <span class="navbar-unread">1</span>-->
						  </a>
						  <ul>
							<li><a href="./index.php?c=Ctrl&a=showServerListMenu">区组管理</a></li>
							
							<li><a href="#fakelink">服务器管理</a></li>
						  </ul> <!-- /Sub menu -->
						</li>
						<li>
						  <a href="#fakelink">
							文档
						  </a>
						</li>
                        <li>
						  <a href="http://ffbbs.sinaapp.com">
							论坛
						  </a>
						</li>
						<li>
						  <a href="#fakelink">
							关于
						  </a>
						</li>
					  </ul>
					</div><!--/.nav -->
				  </div>
				</div>
			  </div>
			</div>
        
		</div> <!-- /row -->
		<div class="row demo-row">
			<div  class="row demo-row">
				<div class="span8" id="showServerListTitle"> 
				<!-- 
					<b>区组列表: </b>
					<a href="#"  onclick="showCreateServerInput();">添加新区服</a>&nbsp;
				-->
				</div>
			</div>
			<div id="showStage">
				<!-- 
				<div class="demo-row" >
					<div class="tile tLeft">
						<div class="span5 tLeft"> <b> 区组一 </b> </div>
						<div class="span3"> 
							<a href="#"  onclick="alert('暂未开放此功能');">查看</a>&nbsp;
							<a href="#"  onclick="alert('暂未开放此功能');">修改</a>&nbsp;
							<a href="#"  onclick="alert('暂未开放此功能');">删除</a>&nbsp;
						</div>
						<div style="height:15px;"></div>
					</div>
				</div>
				<div class="demo-row">
					<div class="tile tLeft">
						<div class="span5 tLeft"> <b> 区组一 </b> </div>
						<div class="span3"> 
							<a href="#"  onclick="alert('暂未开放此功能');">查看</a>&nbsp;
							<a href="#"  onclick="alert('暂未开放此功能');">修改</a>&nbsp;
							<a href="#"  onclick="alert('暂未开放此功能');">删除</a>&nbsp;
						</div>
						<div style="height:15px;"></div>
					</div>
				</div>
				 -->
			</div>
		</div>
		<div class="row demo-row"><!-- empty -->
			<div style="height:80px;"></div>
		</div>
        <!-- 
            <div class="switch switch-small" id='mySwitch' >
                <input type="checkbox"  onchange="onChangeTurnOnOrOff('TODO')"; checked />
            </div>
        -->
	</div> <!-- /container -->

    <footer>
      <div class="container">
        <div class="row">
          <div class="span7">
            <h3 class="footer-title">参与其中</h3>
            <p>ffEngine为开源项目，如果你也感兴趣，一起来贡献力量！</p>
			<p>Code Repository ：<a href="https://github.com/fanchy/ffengine" target="_blank">https://github.com/fanchy/ffengine</a></p>
			<p>Email：zxfown@gmail.com<p/>
			<p>Weibo： <a href="http://weibo.com/zxfown" target="_blank"> http://weibo.com/zxfown </a> </p>
			<p>QQ: 693654841 </p>
			<p>Blog:  <a href="http://www.cnblogs.com/zhiranok" target="_blank"> http://www.cnblogs.com/zhiranok </a></p>
          </div> <!-- /span8 -->

          <div class="span5">
            <div class="footer-banner">
              <h3 class="footer-title">SLOGAN</h3>
              <ul>
                <li>无聊梦见忧郁，找到理想不太易</li>
                <li>理想有日达成，找到心底梦想的世界</li>
                <li>BEYOND！</li>
              </ul>
			  <h3 >COPYRIGHT</h3>
			  <p> <a href="http://www.bootcss.com/" target="_blank">致谢Boostrap</a></p>
			  <p> <a href="http://www.bootcss.com/p/flat-ui/" target="_blank">致谢FLAT UI</a></p>
            </div>
          </div>
        </div>
      </div>
    </footer>
    <div id="showCreaateServerDiv" title="增加进程">
		<!--<div id="showCreateInputDiv" style=" position: absolute;display:none;">-->
		<!--</div>-->
        <div> 选择要开启的服务
            <select id="selectServiceType" onchange="onSelectedChange();">   
            <option   value="gate" selected>gate</option>   
            <option   value="scene">scene</option>   
            <!--<option   value="gate_scene">gate & scene</option> -->
            </select>
        </div>
        <!--<div><div class="span2"> service name: </div><input type="input" value="测试" id="service-name" /></div> -->
        <div id='gateConfigArgs'>
            <div><div class="span2"> gate name: </div><input type="input" value="gate@0" id="-gate" /></div> 
            <div><div class="span2"> -gate_listen:  </div><input type="input" value="tcp://*:40242" id="-gate_listen" /></div> 
            <!--<div><div class="span2"> -perf_timeout:  </div><input type="input" value="20" id="-perf_timeout" /></div> -->
            <div><div class="span2"> -broker:  </div><input type="input" value="tcp://*:1282" id="-broker" /></div> 
        </div>
        <div id='sceneConfigArgs'>
            <div><div class="span2"> -scene: </div><input type="input" value="scene@0" id="-scene" /></div> 
            <div><div class="span2"> -perf_timeout:  </div><input type="input" value="20" id="-perf_timeout" /></div> 
            <div><div class="span2"> -master_broker:  </div><input type="input" value="tcp://*:1282" id="-master_broker" /></div> 
        </div>
	</div>
    <div id="showModifyDiv" title="修改配置">
		<!--<div id="showCreateInputDiv" style=" position: absolute;display:none;">-->
		<!--</div>-->
        <div> 选择要开启的服务
            <select id="selectServiceType" onchange="onSelectedChange();">   
            <option   value="gate" selected>gate</option>   
            <option   value="scene">scene</option>   
            <!--<option   value="gate_scene">gate & scene</option> -->
            </select>
        </div>
        <!--<div><div class="span2"> service name: </div><input type="input" value="测试" id="service-name" /></div> -->
        <div id='gateConfigArgs'>
            <div><div class="span2"> gate name: </div><input type="input" value="gate@0" id="-gate" /></div> 
            <div><div class="span2"> -gate_listen:  </div><input type="input" value="tcp://*:40242" id="-gate_listen" /></div> 
            <!--<div><div class="span2"> -perf_timeout:  </div><input type="input" value="20" id="-perf_timeout" /></div> -->
            <div><div class="span2"> -broker:  </div><input type="input" value="tcp://*:1282" id="-broker" /></div> 
        </div>
        <div id='sceneConfigArgs'>
            <div><div class="span2"> -scene: </div><input type="input" value="scene@0" id="-scene" /></div> 
            <div><div class="span2"> -perf_timeout:  </div><input type="input" value="20" id="-perf_timeout" /></div> 
            <div><div class="span2"> -master_broker:  </div><input type="input" value="tcp://*:1282" id="-master_broker" /></div> 
        </div>
	</div>
    
    <div id="showUpdateCode" title="更新代码">
		<!--<div id="showCreateInputDiv" style=" position: absolute;display:none;">-->
		<!--</div>-->
        <div> 选择要更新代码的方式
            <select id="selectUpdateCodeType" onchange="onSelectedChangeUpdateCode();">   
            <option   value="svn" selected>SVN</option>
            <!--<option   value="gate_scene">gate & scene</option> -->
            </select>
        </div>
        <!--<div><div class="span2"> service name: </div><input type="input" value="测试" id="service-name" /></div> -->
        <div id='svnUpdateCodeType'>
            <div><div class="span2"> svn url: </div><input type="input" value="https://github.com/fanchy/ffengine/trunk/example/game/pyproject" id="svn_url" /></div>
        </div>
	</div>
    <!-- Load JS here for greater good =============================-->
    <script src="../inc/js/jquery-1.8.3.min.js"></script>
    <script src="../inc/js/bootstrap-switch.js"></script>
    
	<script src="../inc/js/ui/jquery.ui.core.js"></script>
	<script src="../inc/js/ui/jquery.ui.widget.js"></script>
	<script src="../inc/js/ui/jquery.ui.mouse.js"></script>
	<script src="../inc/js/ui/jquery.ui.draggable.js"></script>
	<script src="../inc/js/ui/jquery.ui.position.js"></script>
	<script src="../inc/js/ui/jquery.ui.resizable.js"></script>
	<script src="../inc/js/ui/jquery.ui.button.js"></script>
	<script src="../inc/js/ui/jquery.ui.dialog.js"></script>
    <script src="../inc/js/jquery.json-2.4.js"></script>
    <script src="../inc/thrift/thrift.js"></script>
    <script src="../inc/gen-js/ffengine_types.js"></script>
    <script src="../inc/thrift/ff.js"></script>
    
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- <script src="../inc/jquery-ui-bootstrap/assets/js/jquery-1.9.0.min.js" type="text/javascript"></script>-->
    <script src="../inc/jquery-ui-bootstrap/assets/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="../inc/jquery-ui-bootstrap/assets/js/jquery-ui-1.10.0.custom.min.js" type="text/javascript"></script>

    <!--
	
	<script src="../inc/js/bootstrap.min.js"></script>
	
    <script src="../inc/js/jquery.ui.touch-punch.min.js"></script>	
	<script src="../inc/js/bootstrap-select.js"></script>
    <script src="../inc/js/bootstrap-switch.js"></script>
    <script src="../inc/js/flatui-checkbox.js"></script>
    <script src="../inc/js/flatui-radio.js"></script>
    <script src="../inc/js/jquery.tagsinput.js"></script>
    <script src="../inc/js/jquery.placeholder.js"></script>
    <script src="../inc/js/jquery.stacktable.js"></script>
    <script src="http://vjs.zencdn.net/c/video.js"></script>
    <script src="../inc/sjs/application.js"></script> -->
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fc5875c0a7f78e3b8f758f907513834db' type='text/javascript'%3E%3C/script%3E"));
</script>
  </body>
</html>

<script type="text/javascript">
var g_ServerData = new instance_info_t({
    "area_id":1,
    "area_name":"测试nice",
    "process_list":{
        100 : new process_info_t({
            'name':"测试gate",
            'server_type':1,
            'param':{'oh':'nice'},
        }),
        200 : new process_info_t({
            'name':"测试scene",
            'server_type':2,
            'param':{'oh':'nice'},
        }),
    },
});
var g_processId_req = 0;
function type2Name(a){
    if (a == 1)
        return "GATE";
    else
        return "SCENE";
}
function reqAddServer(args, callback){//! 请求增加区组
    $.post("./index.php?c=Ctrl&a=reqCreateProcess", args, function(data) {
        
        var tmpRetData = $.evalJSON(data);
        if (tmpRetData['err_msg'] != '')
        {
            alert(tmpRetData['err_msg']);
            return;
        }
        //alert(tmpRetData['update_data']);
        ff_decode(g_ServerData, tmpRetData['update_data']);
        
        //alert(data+'[1,"ff",0,0,{"1":{"i32":1},"2":{"str":"\u6d4b\u8bd5\u7ec4"},"3":{"map":["i32","rec",0,{}]}}]');
        //g_ServerData = new instance_info_t();
        //ff_decode(g_ServerData, ''+data);
        
        callback();
    });
    
}
function reqDelServer(args, callback){
	$.post("./index.php?c=Ctrl&a=reqDelProcess", args, function(data) {
        //alert(data);
        var tmpRetData = $.evalJSON(data);
        if (tmpRetData['err_msg'] != '')
        {
            alert(tmpRetData['err_msg']);
            return;
        }
        
        ff_decode(g_ServerData, tmpRetData['update_data']);
        callback();
    });
}

function loadServerList(){
	return g_ServerData;
}

function UpdateServerList(){
    var tmpServerData = loadServerList();
	var areaId = tmpServerData.area_id;
    var seerverName = tmpServerData.area_name;
	
	$("#showServerListTitle").html('<b>区组名称: '+seerverName+'　</b> <a href="#"  onclick="OnclickShowCreateServerInput();">添加新进程</a>&nbsp; 共'
        +ff_size(tmpServerData.process_list)+'个进程'
        +' <a  target="_blank" href="../front/html5_rpg/" >进入demo游戏</a>'
        );
	var tmpHmtlStr = '';
    var k = 0;
	for (var i in tmpServerData.process_list){
		var tmpIndex = k + 1;
        var processId = i;
        var tmpServerInfo = tmpServerData.process_list[i];
        
        tmpHmtlStr += '<div class="demo-row" >\
                        <div class="tile tLeft">';
        var statusStr = '关闭';
        if (tmpServerInfo.status != 0){
            statusStr = '运行中';
        }
        var updateCode = '  ';
        if (tmpServerInfo.server_type == 2){
            updateCode = '<a href="#"  onclick="onclickUpdateCode('+processId+');">更新代码</a>&nbsp;';
            updateCode +=  '<a href="./index.php?c=Ctrl&a=showprocesscode&gameId='+GetGameId()+
                           '&areaId='+GetAreaId()+'&processId='+processId+'&cmd=查看代码&path=/" target="_blank" >查看代码</a>&nbsp;'+
                           '<a href="./index.php?c=Ctrl&a=showprocessperf&gameId='+GetGameId()+'&areaId='+ GetAreaId()+ 
                           '&processId='+processId+'&cmd=性能日志&path=/perf" target="_blank" ">性能日志</a>&nbsp;';
        }
        tmpHmtlStr += '<div> <b>' + type2Name(tmpServerInfo.server_type) + ':</b>&nbsp ' + tmpServerInfo.name + 
                      '&nbsp <a href"#" onclick="onClickStatus('+processId+');">状态</a>: '+
                        '<font id="stausValue" color="red"> ' + statusStr +' </font> &nbsp  ' + 
                      '<a href="#"  onclick="sendCmdToServer(\'启动\'' + ','+processId+',{});">启动</a>&nbsp;' +
                      '<a href="#"  onclick="sendCmdToServer(\'关闭\'' + ','+processId+',{});">关闭</a>&nbsp;' +
                      '<a href="#"  onclick="onClickModify();");">修改配置</a>&nbsp;' +
                      '<a href="#"  onclick="alert(\'暂未开放此功能\');">操作记录</a>&nbsp;' +
                      '<a href="./index.php?c=Ctrl&a=showProcessLog&gameId='+GetGameId()+'&areaId='+ GetAreaId()+ 
                      '&processId='+processId+'" target="_blank" ">查看日志</a>&nbsp;' +
                      '<a href="#"  onclick="delServiceInstance('+GetAreaId()+','+processId+');">删除</a>&nbsp;' +
                      '<a href="#"  onclick="alert(\'暂未开放此功能\');">TOP</a>&nbsp;' +
                      updateCode +
                      ' </div>';
              
        //tmpHmtlStr += '</div><br /></div>';
        tmpHmtlStr += '</div><div style="height:15px;"></div></div>';
        k += 1;
	}
	
	$("#showStage").html(tmpHmtlStr);
}

//!显示创建区组的输入框
function OnclickShowCreateServerInput(){
	$("#showCreaateServerDiv").dialog("open");
}
//!点击删除区组
function OnclickDelServer(id){
	if(confirm("确定要删除此区组?")){
		reqDelServer({"id":id});
		UpdateServerList();
	}
}
function GetGameId(){
    var tmpList = location.href.split('gameId=');
    var gameId = tmpList[1].split('&')[0];
    gameId = gameId.split('#')[0];
    return parseInt(gameId);
}
function GetAreaId(){
    var tmpList = location.href.split('areaId=');
    var areaId = tmpList[1].split('&')[0];
    areaId = areaId.split('#')[0];
    return parseInt(areaId);
}
$(function(){
	UpdateServerList();
    $('#sceneConfigArgs').hide();
    $("#showCreaateServerDiv").dialog({
			autoOpen: false,
			height: 340,
			width:500,
			modal: true,
			position: "center",
			buttons: {
				"Ok": function() {
					var tmpAddServerName = $("#addServerInput").val();
					if (tmpAddServerName == ""){
						alert('进程名不能为空!');
						return;
					}
                    var tmp = $(this);
                    var args = {};
                    if ($('#selectServiceType').val() == 'gate'){
                        args = {
                            "-gate": $('#-gate').val(),
                            "-gate_listen": $('#-gate_listen').val(),
                            "-perf_timeout": $('#-perf_timeout').val(),
                            "-broker": $('#-broker').val(),
                        }
                    }
                    else{
                        args = {
                            "-scene": $('#-scene').val(),
                            "-master_broker": $('#-master_broker').val(),
                            "-perf_timeout": $('#-perf_timeout').val(),
                        }
                    }
                    args['gameId']= GetGameId();
                    args['areaId']= g_ServerData.area_id;
					reqAddServer(args, function(){
                            UpdateServerList();
                            tmp.dialog('close');
                    });
					
				} ,
		    },
		});
    $("#showModifyDiv").dialog({
			autoOpen: false,
			height: 340,
			width:500,
			modal: true,
			position: "center",
			buttons: {
				"Ok": function() {
                    alert('此功能暂未开放');
                    $(this).dialog('close');
                    return;
					var tmpAddServerName = $("#addServerInput").val();
					if (tmpAddServerName == ""){
						alert('进程名不能为空!');
						return;
					}
                    var tmp = $(this);
                    var args = {};
                    if ($('#selectServiceType').val() == 'gate'){
                        args = {
                            "-gate": $('#-gate').val(),
                            "-gate_listen": $('#-gate_listen').val(),
                            "-perf_timeout": $('#-perf_timeout').val(),
                            "-broker": $('#-broker').val(),
                        }
                    }
                    else{
                        args = {
                            "-scene": $('#-scene').val(),
                            "-master_broker": $('#-master_broker').val(),
                            "-perf_timeout": $('#-perf_timeout').val(),
                        }
                    }
                    args['gameId']= GetGameId();
                    args['areaId']= g_ServerData.area_id;
					reqAddServer(args, function(){
                            UpdateServerList();
                            tmp.dialog('close');
                    });
					
				} ,
		    },
		});
    $("#showUpdateCode").dialog({
			autoOpen: false,
			height: 340,
			width:500,
			modal: true,
			position: "center",
			buttons: {
				"Ok": function() {
                    var tmp = $(this);
                    var args = {};
                    if ($('#selectUpdateCodeType').val() == 'svn'){
                        args = {
                            "svn_url": $('#svn_url').val(),
                        }
                    }
                    else{
                        args = {}
                    }
                    args['gameId']= GetGameId();
                    args['areaId']= g_ServerData.area_id;
					sendCmdToServer('更新代码', g_processId_req, args);
					tmp.dialog('close');
				} ,
		    },
		});
});

//! 选择gate或者scene
function onSelectedChange(){
    var tmpVal = $('#selectServiceType').val();
    if (tmpVal == 'gate')
    {
        $('#sceneConfigArgs').hide();
        $('#gateConfigArgs').show();
    }
    else if (tmpVal == 'scene')
    {
        $('#sceneConfigArgs').show();
        $('#gateConfigArgs').hide();
    }else{
        $('#sceneConfigArgs').show();
        $('#gateConfigArgs').show();
    }
}

function delServiceInstance(areaIdArg, processIdArg){
    reqDelServer({
        "gameId":GetGameId(),
        "areaId":areaIdArg,
        "processId":processIdArg,
    }, function(){
        UpdateServerList();
    });
}

//!向服务器发送指令
function sendCmdToServer(strCmd, processIdArg, extraDict){
    var args = {
        "cmd":strCmd,
        'gameId':GetGameId(),
        'areaId':GetAreaId(),
        'processId':processIdArg,
    };
    for (var k in extraDict){
        args[k] = extraDict[k];
    }
    $.post("./index.php?c=Ctrl&a=opsProcess", args, function(data) {
        //alert(data);
        var tmpRetData = $.evalJSON(data);
        if (tmpRetData['err_msg'] != '')
        {
            alert(tmpRetData['err_msg']);
        }
        if (tmpRetData['update_data'] != ''){
            ff_decode(g_ServerData, tmpRetData['update_data']);
            UpdateServerList();
        }
    });
}

//!处理点击状态
function onClickStatus(processId){
    sendCmdToServer('进程状态', processId, {});
}
//!修改配置
function onClickModify(){
    $("#showModifyDiv").dialog("open");
}
//!更新代码
function onclickUpdateCode(processId){
    g_processId_req = processId;
    $("#showUpdateCode").dialog("open");
}

</script>
<script type="text/javascript">

ff_decode(g_ServerData, '<{$serverJSData}>'); 

</script>
<script type="text/javascript">
function onChangeTurnOnOrOff(processIdArg){
    alert('onChangeTurnOnOrOff:' + processIdArg);
    //$('#mySwitch').bootstrapSwitch('toggleState');
    //$('#mySwitch').bootstrapSwitch('setState', false);
}
</script>

